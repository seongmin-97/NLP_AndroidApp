# chapter 3 - 05 반복문

반복문은 코드를 반복적으로 실행하고자 할 때 사용한다. 예를 들어 1부터 10까지 Log를 통해 출력하고자 할 때 Log를 여러번 작성하기 보다 반복문을 사용한다면 훨씬 편하다.

반복문에는 for와 while 두가지가 있는데 for는 특정 횟수만큼 코드를 반복하기 위해 사용하고 while은 특정 조건이 만족할 때까지 코드를 반복할 때 사용한다. while은 if문처럼 조건식을 사용해서 언제까지 반복할지를 결정할 수 있다.

1. for 반복문

    for 반복문은 다음처럼 괄호 안에 반복할 범위를 지정하면 코드 블록에 있는 코드들이 지정한 횟수만큼 반복해서 동작한다.

    ```kotlin
    for ("반복할 범위") {
    	// 반복할 코드
    }
    ```

    - for in .. : 일반적인 형태의 for 반복문

        시작값과 종료값으로 지정한 숫자 범위만큼 코드를 반복하는 일반적인 방법이다. in을 사용해서 반복하는 범위의 숫자를 변수에 담아두고 사용할 수 있다.

        ```kotlin
        for ("변수 in 시작값..종료값") {
        	// 실행 코드
        }
        ```

        다음은 1부터 10까지 열 번 반복하면서 Log를 이용해 출력하는 예제이다.

        ```kotlin
        for (index in 1..10) {
        	Log.d("For", "현재 숫자는 ${index}")
        }
        ```

    - until : 마지막 숫자 제외하기

        시작값과 종료값 사이에 두 개의 온점이 아닌 until을 사용하면 종료값 이전까지만 반복한다.

        ```kotlin
        for ("변수 in 시작값 until 종료값") {
        	// 실행 코드
        }
        ```

        컴퓨터의 인덱스가 항상 0부터 시작하기 때문에 배열의 인덱스를 사용하여 처리하는 코드에서 사용할 수 있다. 

        ```kotlin
        var array = arrayOf("Jan", "Feb", "Mar", "Apr", "May", "Jun")

        for (index in 0 until array.size) {
        	Log.d("For", "현재 월은 ${array.get(index)}입니다.")
        }
        ```

        배열의 크기는 항상 마지막 인덱스 + 1이기 때문에 위와 같이 응용할 수 있다.

    - step : 건너뛰기

        1부터 100까지 반복하면서 3의 배수만 사용하고 싶다면 어떻게 할까? for문 안에 if문을 사용해서 현재 값이 3의 배수일 때만 출력하도록 할 수 있다. 하지만 if문을 매번 실행함으로서 연산이 낭비된다. 이럴 때 step을 사용해서 for문의 블록을 step 수만큼 건너뛰어서 실행한다. 

        ```kotlin
        for ("변수 in 시작값..종료값 step 3") {
        	// 실행 코드
        }
        ```

        이런 식으로 사용한다. 위의 예제를 코드로 작성하면 다음과 같다.

        ```kotlin
        for (index in 0..100 step3) {
        	Log.d("For", "현재 숫자는 ${index}")
        }
        ```

    - downTo : 감소시키기

        위의 예제에서는 작은 수에서 큰 수로 값을 증가하면서 코드를 실행했는데, downTo를 사용하면 큰 수에서 작은 수로 감소하면서 실행할 수 있다. 증가할 때와 같이 step을 사용할 수도 있다.

        ```kotlin
        for (index in 0 downTo 10) {
        	Log.d("For", "현재 숫자는 ${index}")
        }
        ```

    - 배열, 컬렉션에 들어 있는 엘리먼트 반복하기

        배열이나 컬렉션을 엘리먼트의 개수만큼 반복하면서 활용할 수 있다.

        ```kotlin
        for ("변수 in 배열 또는 컬렉션") {
         // 실행 코드
        }
        ```

        다음은 arrayMonth에 담겨있는 엘리먼트들을 month 변수에 담은 후에 로그로 출력하는 예제이다. 인덱스를 사용하는 방법보다 더 편하고 가독성도 더 좋다.

        ```kotlin
        var arrayMonth = arrayOf("Jan", "Feb", "Mar", "Apr", "May", "Jun")

        for (month in arrayMonth) {
        	Log.d("for", "현재 월은 ${month}입니다.")
        }
        ```

2. while 반복문

    for문이 특정 범위만큼 반복하기 위한 구문이라면 while문은 특정 조건이 만족할 때까지 반복하기 위한 구문이다. 조금 더 쉽게 접근하면 반복이 가능한 if문이라고 생각할 수 있다. 괄호 안의 조건식에는 주로 두 항과 비교 연산자가 사용된다.

    ```kotlin
    while("조건식") {
    	// 실행 코드
    }
    ```

    while문의 괄호 안의 조건식 결과가 항상 true이면 끝없이 동작하는 무한 루프에 빠지게 된다. 그 예시는 다음과 같다.

    ```kotlin
    var a = 1

    while (a == 1) {
    	Log.d("while", "조건을 만족하면 여기를 출력하세요!")
    }
    ```

    - 일반적인 while 반복문

        for문과 다르게 증감되는 인덱스가 있으면 코드에서 직접 처리해야 한다. 다음 코드에서는 current 변수가 인덱스의 역할을 하고 있다.

        ```kotlin
        var current = 1
        var until = 12

        while (current < until) {
        	Log.d("while", "현재 값은 ${current}입니다.")
        	current = current + 1
        }
        ```

        이 while문에는 current가 until보다 작을 때만 true를 반환하는 조건식이 입력되어 있다. 따라서 이렇게 current가 until에 입력된 12보다 작을 때까지 총 11번이 반복된다.

    - do와 함께 사용하기

        do와 함께 사용하면 while문의 조건식과 관계없이 do 블록 안의 코드를 한 번 실행한다.

        ```kotlin
        var game = 1
        val match = 6

        do {
        	Log.d("while", "${game}게임 이겼습니다. 우승까지 ${match-game}게임 남았습니다.")
        	game += 1
        } while (game < match)
        ```

        기존의 while문은 조건을 만족시키지 않으면 한 번도 실행되지 않는 경우가 있는데 do ~ while문은 조건과 상관 없이 처음 한 번은 코드 블록의 내용을 실행한다.

3. 반복문 제어하기

    반복문이 실행되는 도중에 특정 조건에서 반복문을 벗어나거나 다음 반복문으로 넘어가야 하는 상황이 있다. 이럴 때 사용하는 두 가지 방법을 알아보자.

    - break : 반복문 탈출하기

        반복문 안에서 break를 만나면 반복문을 탈출할 수 있게 해준다. 특정 조건에서 무조건 for 블록을 벗어날 때 사용한다. 다음 예제를 보자. index의 값이 5보다 크면 break가 실행되기 때문에 여섯 번째 로그가 찍힌 후에 for 블록을 빠져나간다.

        ```kotlin
        for (index in 1..10) {
        	Log.d("break", "현재 index는 $index 입니다.")
        	if (index > 5) {
        		break
        	}
        }
        ```

    - continue : 다음 반복문으로

        반복문 내에서 continue를 만나면 continue 다음 코드는 실행하지 않고 반복문의 처음으로 돌아갑니다. 다음의 예시 코드를 보면 except가 3보다 크고 8보다 작으면 continue 명령으로 로그를 찍지 않고 for문의 처음으로 돌아가기 때문에 4, 5, 6, 7은 출력되지 않는다.

        ```kotlin
        for (except in 1..10) {
        	if (except > 3 && except < 8 {
        		continue
        	}
        	Log.d("continue", "현재 index는 $except 입니다.")
        }
        ```

반복문에서 중요한 사항만 잠시 보고 반복문을 마무리 하도록 하자.

- for : 정해진 범위만큼 코드를 반복하기 위해 사용하는 문법이다.
- while : for문과는 조금 다르게 정해진 범위가 아닌, 특정 조건을 만족할 때까지 코드를 반복하기 위해 사용한다.
- break : 반복문을 완전히 벗어나기 위해 사용한다.
- continue : 반복문 도중 다음 반복문으로 넘어가기 위해 사용한다. break문처럼 완전히 벗어나지는 않고 다음 반복문의 조건에 따라 실행 여부가 결정된다.